import{S as j,i as w,s as A,l as h,g as v,$ as c,t as D,a0 as g,a as b,d as o,h as M,b as r,I as y,j as N,R as C,F as q,W as F}from"../../../../chunks/vendor-64f33e0e.js";function E(i){let t,e=i[0].detail.data&&G(i);return{c(){e&&e.c(),t=h()},l(a){e&&e.l(a),t=h()},m(a,l){e&&e.m(a,l),v(a,t,l)},p(a,l){a[0].detail.data?e?e.p(a,l):(e=G(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){e&&e.d(a),a&&o(t)}}}function G(i){let t,e,a,l,f=i[1][i[0].detail.data.x].label+": "+Math.round(i[0].detail.data.y*10)/10+"% in "+i[0].detail.data.g,_,k,u;return{c(){t=c("g"),e=c("rect"),l=c("text"),_=D(f),this.h()},l(s){t=g(s,"g",{class:!0});var d=b(t);e=g(d,"rect",{fill:!0,x:!0,y:!0,transform:!0,width:!0,height:!0,rx:!0}),b(e).forEach(o),l=g(d,"text",{class:!0,transform:!0,fill:!0,x:!0,y:!0});var m=b(l);_=M(m,f),m.forEach(o),d.forEach(o),this.h()},h(){r(e,"fill","rgba(255,255,255,0.9)"),r(e,"x",-20),r(e,"y",a=i[2](i[0].detail.data)+(i[0].detail.data.g==2021?10:0)-10),r(e,"transform","translate(5,-25)"),r(e,"width","170"),r(e,"height","25"),r(e,"rx","15"),r(l,"class","label-bold svelte-gjdahk"),r(l,"transform","translate(0,-7)"),r(l,"fill","#333"),r(l,"x",k=10),r(l,"y",u=i[2](i[0].detail.data)+(i[0].detail.data.g==2021?10:0)-10),r(t,"class","label-group")},m(s,d){v(s,t,d),y(t,e),y(t,l),y(l,_)},p(s,d){d&5&&a!==(a=s[2](s[0].detail.data)+(s[0].detail.data.g==2021?10:0)-10)&&r(e,"y",a),d&3&&f!==(f=s[1][s[0].detail.data.x].label+": "+Math.round(s[0].detail.data.y*10)/10+"% in "+s[0].detail.data.g)&&N(_,f),d&5&&u!==(u=s[2](s[0].detail.data)+(s[0].detail.data.g==2021?10:0)-10)&&r(l,"y",u)},d(s){s&&o(t)}}}function I(i){let t,e=i[0].detail&&E(i);return{c(){e&&e.c(),t=h()},l(a){e&&e.l(a),t=h()},m(a,l){e&&e.m(a,l),v(a,t,l)},p(a,[l]){a[0].detail?e?e.p(a,l):(e=E(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:C,o:C,d(a){e&&e.d(a),a&&o(t)}}}function R(i,t,e){let a;const{data:l,xScale:f,yScale:_,xDomain:k,y:u,xGet:s,yGet:d,Domain:m,custom:W}=q("LayerCake");F(i,d,n=>e(2,a=n));let{hovered:p=null}=t,{ageLabel:L=null}=t,{topics:S}=t;return i.$$set=n=>{"hovered"in n&&e(4,p=n.hovered),"ageLabel"in n&&e(0,L=n.ageLabel),"topics"in n&&e(1,S=n.topics)},[L,S,a,d,p]}class B extends j{constructor(t){super();w(this,t,R,I,A,{hovered:4,ageLabel:0,topics:1})}}export{B as default};
