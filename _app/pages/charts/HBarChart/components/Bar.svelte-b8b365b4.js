import{S as T,i as U,s as W,l as y,g as k,$ as q,a0 as A,a as B,d,b as s,P as S,U as j,T as H,R as C,F as z,W as g,a1 as I}from"../../../../chunks/vendor-64f33e0e.js";function E(e,l,a){const t=e.slice();return t[17]=l[a],t[19]=a,t}function G(e,l,a){const t=e.slice();return t[20]=l[a],t[22]=a,t}function D(e){let l,a,t,r,n,o,i,c,f;function m(...u){return e[14](e[20],...u)}return{c(){l=q("rect"),this.h()},l(u){l=A(u,"rect",{class:!0,"data-id":!0,x:!0,y:!0,rx:!0,height:!0,width:!0,fill:!0,stroke:!0,"stroke-width":!0}),B(l).forEach(d),this.h()},h(){s(l,"class","group-rect"),s(l,"data-id",e[22]),s(l,"x",a=e[2].range()[0]),s(l,"y",t=e[19]%2==0?e[3](e[20]):e[3](e[20])+(34.5-e[0][0].length*2.5)),s(l,"rx",5),s(l,"height",r=e[4].bandwidth()/2.3),s(l,"width",n=e[5](e[20])+3),s(l,"fill",e[19]%2==0?"#DF0667":"#3C388E"),s(l,"stroke",o=e[20]==e[1]?"orange":"white"),s(l,"stroke-width",i=e[20]==e[1]?"3":"2")},m(u,_){k(u,l,_),c||(f=[S(l,"mouseover",m),S(l,"mouseleave",e[15])],c=!0)},p(u,_){e=u,_&4&&a!==(a=e[2].range()[0])&&s(l,"x",a),_&9&&t!==(t=e[19]%2==0?e[3](e[20]):e[3](e[20])+(34.5-e[0][0].length*2.5))&&s(l,"y",t),_&16&&r!==(r=e[4].bandwidth()/2.3)&&s(l,"height",r),_&32&&n!==(n=e[5](e[20])+3)&&s(l,"width",n),_&2&&o!==(o=e[20]==e[1]?"orange":"white")&&s(l,"stroke",o),_&2&&i!==(i=e[20]==e[1]?"3":"2")&&s(l,"stroke-width",i)},d(u){u&&d(l),c=!1,j(f)}}}function F(e){let l,a=e[17],t=[];for(let r=0;r<a.length;r+=1)t[r]=D(G(e,a,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=y()},l(r){for(let n=0;n<t.length;n+=1)t[n].l(r);l=y()},m(r,n){for(let o=0;o<t.length;o+=1)t[o].m(r,n);k(r,l,n)},p(r,n){if(n&6207){a=r[17];let o;for(o=0;o<a.length;o+=1){const i=G(r,a,o);t[o]?t[o].p(i,n):(t[o]=D(i),t[o].c(),t[o].m(l.parentNode,l))}for(;o<t.length;o+=1)t[o].d(1);t.length=a.length}},d(r){H(t,r),r&&d(l)}}}function J(e){let l,a=e[12],t=[];for(let r=0;r<a.length;r+=1)t[r]=F(E(e,a,r));return{c(){l=q("g");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){l=A(r,"g",{class:!0});var n=B(l);for(let o=0;o<t.length;o+=1)t[o].l(n);n.forEach(d),this.h()},h(){s(l,"class","bar-group")},m(r,n){k(r,l,n);for(let o=0;o<t.length;o+=1)t[o].m(l,null)},p(r,[n]){if(n&6207){a=r[12];let o;for(o=0;o<a.length;o+=1){const i=E(r,a,o);t[o]?t[o].p(i,n):(t[o]=F(i),t[o].c(),t[o].m(l,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=a.length}},i:C,o:C,d(r){r&&d(l),H(t,r)}}}function K(e,l,a){let t,r,n,o,i;const{data:c,xGet:f,yGet:m,xScale:u,yScale:_}=z("LayerCake");g(e,c,h=>a(0,t=h)),g(e,f,h=>a(5,i=h)),g(e,m,h=>a(3,n=h)),g(e,u,h=>a(2,r=h)),g(e,_,h=>a(4,o=h));const L=I();let{hovered:w=null}=l,b;function p(h,v){a(1,b=v),L("hover",{data:v,event:h})}let N=[t.filter(h=>h[0].g==2001)[0],t.filter(h=>h[0].g==2011)[0]];const P=(h,v)=>p(v,h),R=h=>p(h,null);return e.$$set=h=>{"hovered"in h&&a(13,w=h.hovered)},e.$$.update=()=>{e.$$.dirty&1&&console.log("$data.length",t.filter(h=>h[0].g==2001))},[t,b,r,n,o,i,c,f,m,u,_,p,N,w,P,R]}class O extends T{constructor(l){super();U(this,l,K,J,W,{hovered:13})}}export{O as default};
