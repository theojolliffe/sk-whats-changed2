import{S as X,i as Z,s as f,F as j,W as c}from"../../../../chunks/vendor-64f33e0e.js";function v(n,R,p){let g,u,M,d,_,W,i,w,k,S,G,l,C;const{data:q,x:A,y:B,r:F,xGet:L,yGet:P,rGet:V,xScale:Y,yScale:z,yRange:D,rRange:E,custom:H,width:I}=j("LayerCake");c(n,q,t=>p(18,C=t)),c(n,A,t=>p(16,G=t)),c(n,B,t=>p(15,S=t)),c(n,F,t=>p(14,k=t)),c(n,L,t=>p(23,d=t)),c(n,P,t=>p(26,i=t)),c(n,V,t=>p(25,W=t)),c(n,Y,t=>p(21,u=t)),c(n,z,t=>p(20,g=t)),c(n,D,t=>p(22,M=t)),c(n,E,t=>p(24,_=t)),c(n,H,t=>p(17,l=t)),c(n,I,t=>p(13,w=t));let N=l.coords,b=l.type,J=w;function O(t,x,a,h,Q,K){let r=x.mode,T=x.padding,U=x.animation&&K==J?x.duration:0;J=K;let m;if(b=="bar")m=t.map((s,e)=>s.map((o,y)=>({x:r=="default"||r=="grouped"||(r=="comparison"||r=="stacked")&&e==0?0:r=="stacked"?a(t[e-1][y]):a(o),y:r=="grouped"?i(o)+e*(1/t.length)*g.bandwidth():i(o),w:r=="default"||r=="grouped"||(r=="comparison"||r=="stacked")&&e==0?a(o):r=="stacked"?a(o)-a(t[e-1][y]):0,h:r=="grouped"?g.bandwidth()/t.length:g.bandwidth()})));else if(b=="column")m=t.map((s,e)=>s.map((o,y)=>({x:r=="grouped"&&u.bandwidth?d(o)+e*(1/t.length)*u.bandwidth():r=="grouped"?d(o)[0]+e*(1/t.length)*Math.max(0,d(o)[1]-d(o)[0]):u.bandwidth?d(o):d(o)[0],y:h(o),w:r=="grouped"&&u.bandwidth?u.bandwidth()/t.length:r=="grouped"?Math.max(0,d(o)[1]-d(o)[0])/t.length:u.bandwidth?u.bandwidth():Math.max(0,d(o)[1]-d(o)[0]),h:r=="default"||r=="grouped"||(r=="comparison"||r=="stacked")&&e==0?h(o):r=="stacked"?h(o)-h(t[e-1][y]):0})));else if(b=="scatter"){let s=e=>Q?W(e):_[0];m=h?t.map(e=>({x:a(e),y:h(e),r:s(e)})):new AccurateBeeswarm(t,e=>s(e),e=>d(e),T,M[0]/2).calculateYPositions().map(e=>({x:u.invert(e.x),y:g.invert(e.y),r:e.r}))}else b=="line"&&(m=t.map(s=>s.map(e=>({x:a(e),y:h(e)}))));N.set(m,{duration:U})}return n.$$.update=()=>{n.$$.dirty&516096&&O(C,l,G,S,k,w)},[q,A,B,F,L,P,V,Y,z,D,E,H,I,w,k,S,G,l,C]}class tt extends X{constructor(R){super();Z(this,R,v,null,f,{})}}export{tt as default};
