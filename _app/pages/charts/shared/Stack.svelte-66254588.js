import{S as R,i as E,s as q,l as b,g,$ as v,a0 as C,a as O,d as h,b as c,R as w,T as D,F,W as u,a8 as I,ab as L}from"../../../chunks/vendor-64f33e0e.js";function S(n,t,l){const e=n.slice();return e[19]=t[l],e[21]=l,e}function z(n){let t,l,e,a,s;return{c(){t=v("rect"),this.h()},l(i){t=C(i,"rect",{class:!0,"data-id":!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),O(t).forEach(h),this.h()},h(){c(t,"class","stack-rect"),c(t,"data-id",n[21]),c(t,"x",l=n[19]),c(t,"y",e=n[2](0)),c(t,"height","10"),c(t,"width",a=n[1][n[21]+1]-n[19]),c(t,"fill",s=n[3][n[21]])},m(i,r){g(i,t,r)},p(i,r){r&2&&l!==(l=i[19])&&c(t,"x",l),r&4&&e!==(e=i[2](0))&&c(t,"y",e),r&2&&a!==(a=i[1][i[21]+1]-i[19])&&c(t,"width",a),r&8&&s!==(s=i[3][i[21]])&&c(t,"fill",s)},d(i){i&&h(t)}}}function G(n){let t,l=n[21]<n[1].length-1&&z(n);return{c(){l&&l.c(),t=b()},l(e){l&&l.l(e),t=b()},m(e,a){l&&l.m(e,a),g(e,t,a)},p(e,a){e[21]<e[1].length-1?l?l.p(e,a):(l=z(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&h(t)}}}function N(n){let t,l=n[1],e=[];for(let a=0;a<l.length;a+=1)e[a]=G(S(n,l,a));return{c(){t=v("g");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=C(a,"g",{class:!0,opacity:!0});var s=O(t);for(let i=0;i<e.length;i+=1)e[i].l(s);s.forEach(h),this.h()},h(){c(t,"class","stack-group"),c(t,"opacity",n[0])},m(a,s){g(a,t,s);for(let i=0;i<e.length;i+=1)e[i].m(t,null)},p(a,[s]){if(s&14){l=a[1];let i;for(i=0;i<l.length;i+=1){const r=S(a,l,i);e[i]?e[i].p(r,s):(e[i]=G(r),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=l.length}s&1&&c(t,"opacity",a[0])},i:w,o:w,d(a){a&&h(t),D(e,a)}}}function T(n,t,l){let e,a,s,i,r;const{data:W,xGet:m,yGet:j,zGet:A,zRange:d,zDomain:B,xScale:H,yScale:p,config:J,custom:y}=F("LayerCake");u(n,m,o=>l(11,a=o)),u(n,d,o=>l(3,r=o)),u(n,p,o=>l(2,i=o)),u(n,y,o=>l(10,e=o));let{ticks:f}=t,{opacity:k=1}=t,_=I(null,{duration:0,easing:L});return u(n,_,o=>l(1,s=o)),n.$$set=o=>{"ticks"in o&&l(9,f=o.ticks),"opacity"in o&&l(0,k=o.opacity)},n.$$.update=()=>{n.$$.dirty&3584&&_.set(f.map(o=>a(o)),{duration:e.animation?e.duration:0})},[k,s,i,r,m,d,p,y,_,f,e,a]}class P extends R{constructor(t){super();E(this,t,T,N,q,{ticks:9,opacity:0})}}export{P as default};
