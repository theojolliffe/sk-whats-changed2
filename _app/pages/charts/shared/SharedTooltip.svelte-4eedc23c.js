import{S as U,i as W,s as z,w as G,x as H,y as J,q as X,o as Y,B as Z,F as x,W as V,aj as $,e as g,k as C,t as S,c as w,a as k,d as c,m as E,h as O,f as p,b,g as T,I as v,j as I,T as ee,l as N}from"../../../chunks/vendor-64f33e0e.js";import te from"./QuadTree.svelte-6b772d25.js";function A(s,l,a){const e=s.slice();return e[22]=l[a],e}function B(s){let l,a,e,f,u=s[2](s[20][s[5].x])+"",_,m,h=s[14](s[20]),o=[];for(let t=0;t<h.length;t+=1)o[t]=F(A(s,h,t));return{c(){l=g("div"),a=C(),e=g("div"),f=g("div"),_=S(u),m=C();for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){l=w(t,"DIV",{style:!0,class:!0}),k(l).forEach(c),a=E(t),e=w(t,"DIV",{class:!0,style:!0});var i=k(e);f=w(i,"DIV",{class:!0});var r=k(f);_=O(r,u),r.forEach(c),m=E(i);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(c),this.h()},h(){p(l,"left",s[17]+"px"),b(l,"class","line svelte-15whgyn"),b(f,"class","title svelte-15whgyn"),b(e,"class","tooltip svelte-15whgyn"),p(e,"width",L+"px"),p(e,"display",s[19]?"block":"none"),p(e,"top",s[7](s[14](s[20])[0].value)-s[0]+"px"),p(e,"left",Math.min(Math.max(s[13],s[17]),s[8]-s[13])+"px")},m(t,i){T(t,l,i),T(t,a,i),T(t,e,i),v(e,f),v(f,_),v(e,m);for(let r=0;r<o.length;r+=1)o[r].m(e,null)},p(t,i){if(i&131072&&p(l,"left",t[17]+"px"),i&1048612&&u!==(u=t[2](t[20][t[5].x])+"")&&I(_,u),i&1064984){h=t[14](t[20]);let r;for(r=0;r<h.length;r+=1){const d=A(t,h,r);o[r]?o[r].p(d,i):(o[r]=F(d),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=h.length}i&524288&&p(e,"display",t[19]?"block":"none"),i&1048705&&p(e,"top",t[7](t[14](t[20])[0].value)-t[0]+"px"),i&131328&&p(e,"left",Math.min(Math.max(t[13],t[17]),t[8]-t[13])+"px")},d(t){t&&c(l),t&&c(a),t&&c(e),ee(o,t)}}}function F(s){let l,a,e=s[3](s[22].key)+"",f,u,_,m=s[4](s[22].value)+"",h;return{c(){l=g("div"),a=g("span"),f=S(e),u=S(":"),_=C(),h=S(m),this.h()},l(o){l=w(o,"DIV",{class:!0});var t=k(l);a=w(t,"SPAN",{class:!0});var i=k(a);f=O(i,e),u=O(i,":"),i.forEach(c),_=E(t),h=O(t,m),t.forEach(c),this.h()},h(){b(a,"class","key svelte-15whgyn"),b(l,"class","row")},m(o,t){T(o,l,t),v(l,a),v(a,f),v(a,u),v(l,_),v(l,h)},p(o,t){t&1048584&&e!==(e=o[3](o[22].key)+"")&&I(f,e),t&1048592&&m!==(m=o[4](o[22].value)+"")&&I(h,m)},d(o){o&&c(l)}}}function ae(s){let l,a=s[19]===!0&&B(s);return{c(){a&&a.c(),l=N()},l(e){a&&a.l(e),l=N()},m(e,f){a&&a.m(e,f),T(e,l,f)},p(e,f){e[19]===!0?a?a.p(e,f):(a=B(e),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&c(l)}}}function le(s){let l,a;return l=new te({props:{dataset:s[1]||s[6],y:"x",$$slots:{default:[ae,({x:e,y:f,visible:u,found:_,e:m})=>({17:e,18:f,19:u,20:_,21:m}),({x:e,y:f,visible:u,found:_,e:m})=>(e?131072:0)|(f?262144:0)|(u?524288:0)|(_?1048576:0)|(m?2097152:0)]},$$scope:{ctx:s}}}),{c(){G(l.$$.fragment)},l(e){H(l.$$.fragment,e)},m(e,f){J(l,e,f),a=!0},p(e,[f]){const u={};f&66&&(u.dataset=e[1]||e[6]),f&35258813&&(u.$$scope={dirty:f,ctx:e}),l.$set(u)},i(e){a||(X(l.$$.fragment,e),a=!0)},o(e){Y(l.$$.fragment,e),a=!1},d(e){Z(l,e)}}}const L=150;function se(s,l,a){let e,f,u,_;const{data:m,width:h,yScale:o,config:t}=x("LayerCake");V(s,m,n=>a(6,f=n)),V(s,h,n=>a(8,_=n)),V(s,o,n=>a(7,u=n)),V(s,t,n=>a(5,e=n));const i=$(","),r=n=>n.replace(/^\w/,M=>M.toUpperCase());let{tooltipOffset:d=20}=l,{dataset:j=void 0}=l,{formatTitle:q=n=>n}=l,{formatKey:D=n=>r(n)}=l,{formatValue:K=n=>isNaN(+n)?n:i(n)}=l;const P=L/2;function Q(n){return Object.keys(n).length===0?[]:Object.keys(n).filter(y=>y!==e.x).map(y=>({key:y,value:n[y]})).sort((y,R)=>R.value-y.value)}return s.$$set=n=>{"tooltipOffset"in n&&a(0,d=n.tooltipOffset),"dataset"in n&&a(1,j=n.dataset),"formatTitle"in n&&a(2,q=n.formatTitle),"formatKey"in n&&a(3,D=n.formatKey),"formatValue"in n&&a(4,K=n.formatValue)},[d,j,q,D,K,e,f,u,_,m,h,o,t,P,Q]}class fe extends U{constructor(l){super();W(this,l,se,le,z,{tooltipOffset:0,dataset:1,formatTitle:2,formatKey:3,formatValue:4})}}export{fe as default};
