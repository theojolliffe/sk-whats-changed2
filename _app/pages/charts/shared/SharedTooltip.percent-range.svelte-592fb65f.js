import{S as Q,i as U,s as W,w as G,x as H,y as J,q as X,o as Y,B as Z,F as x,W as V,aj as $,e as y,k as C,t as S,c as k,a as b,d as h,m as E,h as O,f as p,b as w,g as T,I as v,j as I,T as ee,l as M}from"../../../chunks/vendor-64f33e0e.js";import te from"./QuadTree.percent-range.svelte-48710e15.js";function N(s,l,a){const e=s.slice();return e[22]=l[a],e}function R(s){let l,a,e,f,u=s[2](s[20][s[5].x])+"",c,m,_=s[14](s[20]),o=[];for(let t=0;t<_.length;t+=1)o[t]=A(N(s,_,t));return{c(){l=y("div"),a=C(),e=y("div"),f=y("div"),c=S(u),m=C();for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){l=k(t,"DIV",{style:!0,class:!0}),b(l).forEach(h),a=E(t),e=k(t,"DIV",{class:!0,style:!0});var i=b(e);f=k(i,"DIV",{class:!0});var r=b(f);c=O(r,u),r.forEach(h),m=E(i);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(h),this.h()},h(){p(l,"left",s[17]/100*s[7]+"px"),w(l,"class","line svelte-1c2x1sz"),w(f,"class","title svelte-1c2x1sz"),w(e,"class","tooltip svelte-1c2x1sz"),p(e,"width",B+"px"),p(e,"display",s[19]?"block":"none"),p(e,"top","calc("+s[8](s[14](s[20])[0].value)+"% - "+s[0]+"px)"),p(e,"left",Math.min(Math.max(s[13],s[17]/100*s[7]),s[7]-s[13])+"px")},m(t,i){T(t,l,i),T(t,a,i),T(t,e,i),v(e,f),v(f,c),v(e,m);for(let r=0;r<o.length;r+=1)o[r].m(e,null)},p(t,i){if(i&131200&&p(l,"left",t[17]/100*t[7]+"px"),i&1048612&&u!==(u=t[2](t[20][t[5].x])+"")&&I(c,u),i&1064984){_=t[14](t[20]);let r;for(r=0;r<_.length;r+=1){const d=N(t,_,r);o[r]?o[r].p(d,i):(o[r]=A(d),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=_.length}i&524288&&p(e,"display",t[19]?"block":"none"),i&1048833&&p(e,"top","calc("+t[8](t[14](t[20])[0].value)+"% - "+t[0]+"px)"),i&131200&&p(e,"left",Math.min(Math.max(t[13],t[17]/100*t[7]),t[7]-t[13])+"px")},d(t){t&&h(l),t&&h(a),t&&h(e),ee(o,t)}}}function A(s){let l,a,e=s[3](s[22].key)+"",f,u,c,m=s[4](s[22].value)+"",_;return{c(){l=y("div"),a=y("span"),f=S(e),u=S(":"),c=C(),_=S(m),this.h()},l(o){l=k(o,"DIV",{class:!0});var t=b(l);a=k(t,"SPAN",{class:!0});var i=b(a);f=O(i,e),u=O(i,":"),i.forEach(h),c=E(t),_=O(t,m),t.forEach(h),this.h()},h(){w(a,"class","key svelte-1c2x1sz"),w(l,"class","row")},m(o,t){T(o,l,t),v(l,a),v(a,f),v(a,u),v(l,c),v(l,_)},p(o,t){t&1048584&&e!==(e=o[3](o[22].key)+"")&&I(f,e),t&1048592&&m!==(m=o[4](o[22].value)+"")&&I(_,m)},d(o){o&&h(l)}}}function ae(s){let l,a=s[19]===!0&&R(s);return{c(){a&&a.c(),l=M()},l(e){a&&a.l(e),l=M()},m(e,f){a&&a.m(e,f),T(e,l,f)},p(e,f){e[19]===!0?a?a.p(e,f):(a=R(e),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&h(l)}}}function le(s){let l,a;return l=new te({props:{dataset:s[1]||s[6],y:"x",$$slots:{default:[ae,({x:e,y:f,visible:u,found:c,e:m})=>({17:e,18:f,19:u,20:c,21:m}),({x:e,y:f,visible:u,found:c,e:m})=>(e?131072:0)|(f?262144:0)|(u?524288:0)|(c?1048576:0)|(m?2097152:0)]},$$scope:{ctx:s}}}),{c(){G(l.$$.fragment)},l(e){H(l.$$.fragment,e)},m(e,f){J(l,e,f),a=!0},p(e,[f]){const u={};f&66&&(u.dataset=e[1]||e[6]),f&35258813&&(u.$$scope={dirty:f,ctx:e}),l.$set(u)},i(e){a||(X(l.$$.fragment,e),a=!0)},o(e){Y(l.$$.fragment,e),a=!1},d(e){Z(l,e)}}}const B=150;function se(s,l,a){let e,f,u,c;const{data:m,width:_,yScale:o,config:t}=x("LayerCake");V(s,m,n=>a(6,f=n)),V(s,_,n=>a(7,u=n)),V(s,o,n=>a(8,c=n)),V(s,t,n=>a(5,e=n));const i=$(","),r=n=>n.replace(/^\w/,K=>K.toUpperCase());let{tooltipOffset:d=20}=l,{dataset:j}=l,{formatTitle:q=n=>n}=l,{formatKey:z=n=>r(n)}=l,{formatValue:D=n=>isNaN(+n)?n:i(n)}=l;const F=B/2;function L(n){return Object.keys(n).length===0?[]:Object.keys(n).filter(g=>g!==e.x).map(g=>({key:g,value:n[g]})).sort((g,P)=>P.value-g.value)}return s.$$set=n=>{"tooltipOffset"in n&&a(0,d=n.tooltipOffset),"dataset"in n&&a(1,j=n.dataset),"formatTitle"in n&&a(2,q=n.formatTitle),"formatKey"in n&&a(3,z=n.formatKey),"formatValue"in n&&a(4,D=n.formatValue)},[d,j,q,z,D,e,f,u,c,m,_,o,t,F,L]}class fe extends Q{constructor(l){super();U(this,l,se,le,W,{tooltipOffset:0,dataset:1,formatTitle:2,formatKey:3,formatValue:4})}}export{fe as default};
